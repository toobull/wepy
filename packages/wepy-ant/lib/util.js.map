{"version":3,"sources":["../src/util.js"],"names":["$isEmpty","obj","Object","keys","length","$isEqual","a","b","aStack","bStack","type","$isDeepEqual","self","className","toString","call","SymbolProto","Symbol","prototype","valueOf","areArrays","aCtor","constructor","bCtor","push","key","$has","pop","path","hasOwnProperty","i","$extend","options","name","src","copy","copyIsArray","clone","target","arguments","deep","$isPlainObject","Array","isArray","$copy","proto","Ctor","getPrototypeOf","$resolvePath","route","url","substr","current","split","join","replace","$getParams","rst","quoteIndex","indexOf","str","tmp","forEach","v","decodeURIComponent","hyphenate","toLowerCase","camelize","_","c","toUpperCase"],"mappings":"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","file":"util.js","sourcesContent":["/**\n * Tencent is pleased to support the open source community by making WePY available.\n * Copyright (C) 2017 THL A29 Limited, a Tencent company. All rights reserved.\n * \n * Licensed under the MIT License (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at\n * http://opensource.org/licenses/MIT\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\n\nexport default {\n    $isEmpty (obj) {\n        return Object.keys(obj).length === 0;\n    },\n\n    $isEqual (a, b, aStack, bStack) {\n        // Identical objects are equal. `0 === -0`, but they aren't identical.\n        // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n        if (a === b) return a !== 0 || 1 / a === 1 / b;\n        // `NaN`s are equivalent, but non-reflexive.\n        if (a !== a) return b !== b;\n        // A strict comparison is necessary because `null == undefined`.\n        if (!a || !b) return a === b;\n        // Exhaust primitive checks\n        var type = typeof a;\n        if (type !== 'function' && type !== 'object' && typeof b !== 'object') return false;\n        return this.$isDeepEqual(a, b, aStack, bStack);\n    },\n\n    $isDeepEqual (a, b, aStack, bStack) {\n        let self = this;\n        // Compare `[[Class]]` names.\n        var className = toString.call(a);\n        if (className !== toString.call(b)) return false;\n        switch (className) {\n          // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n          case '[object RegExp]':\n          // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\n          case '[object String]':\n            // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n            // equivalent to `new String(\"5\")`.\n            return '' + a === '' + b;\n          case '[object Number]':\n            // `NaN`s are equivalent, but non-reflexive.\n            // Object(NaN) is equivalent to NaN.\n            if (+a !== +a) return +b !== +b;\n            // An `egal` comparison is performed for other numeric values.\n            return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n          case '[object Date]':\n          case '[object Boolean]':\n            // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n            // millisecond representations. Note that invalid dates with millisecond representations\n            // of `NaN` are not equivalent.\n            return +a === +b;\n          case '[object Symbol]':\n            var SymbolProto = typeof Symbol !== 'undefined' ? Symbol.prototype : null;\n            return SymbolProto.valueOf.call(a) === SymbolProto.valueOf.call(b);\n        }\n\n        var areArrays = className === '[object Array]';\n        if (!areArrays) {\n          if (typeof a !== 'object' || typeof b !== 'object') return a === b;\n\n          // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n          // from different frames are.\n          var aCtor = a.constructor, bCtor = b.constructor;\n          if (aCtor !== bCtor && !(typeof aCtor === 'function' && aCtor instanceof aCtor &&\n                                   typeof bCtor === 'function' && bCtor instanceof bCtor)\n                              && ('constructor' in a && 'constructor' in b)) {\n            return false;\n          }\n        }\n        // Assume equality for cyclic structures. The algorithm for detecting cyclic\n        // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n        // Initializing stack of traversed objects.\n        // It's done here since we only need them for objects and arrays comparison.\n        aStack = aStack || [];\n        bStack = bStack || [];\n        var length = aStack.length;\n        while (length--) {\n          // Linear search. Performance is inversely proportional to the number of\n          // unique nested structures.\n          if (aStack[length] === a) return bStack[length] === b;\n        }\n\n        // Add the first object to the stack of traversed objects.\n        aStack.push(a);\n        bStack.push(b);\n\n        // Recursively compare objects and arrays.\n        if (areArrays) {\n          // Compare array lengths to determine if a deep comparison is necessary.\n          length = a.length;\n          if (length !== b.length) return false;\n          // Deep compare the contents, ignoring non-numeric properties.\n          while (length--) {\n            if (!self.$isEqual(a[length], b[length], aStack, bStack)) return false;\n          }\n        } else {\n          // Deep compare objects.\n          var keys = Object.keys(a), key;\n          length = keys.length;\n          // Ensure that both objects contain the same number of properties before comparing deep equality.\n          if (Object.keys(b).length !== length) return false;\n          while (length--) {\n            // Deep compare each member\n            key = keys[length];\n            if (!(self.$has(b, key) && self.$isEqual(a[key], b[key], aStack, bStack))) return false;\n          }\n        }\n        // Remove the first object from the stack of traversed objects.\n        aStack.pop();\n        bStack.pop();\n        return true;\n    },\n\n    $has (obj, path) {\n        if (toString.call(path) !== '[object Array]') {\n            return obj && hasOwnProperty.call(obj, path);\n        }\n        var length = path.length;\n        for (var i = 0; i < length; i++) {\n            var key = path[i];\n            if (!obj || !hasOwnProperty.call(obj, key)) {\n                return false;\n            }\n            obj = obj[key];\n        }\n        return !!length;\n    },\n\n    $extend () {\n        var options, name, src, copy, copyIsArray, clone,\n        target = arguments[ 0 ] || {},\n        i = 1,\n        length = arguments.length,\n        deep = false;\n        var self = this;\n\n        // Handle a deep copy situation\n        if ( typeof target === 'boolean' ) {\n            deep = target;\n\n            // Skip the boolean and the target\n            target = arguments[ i ] || {};\n            i++;\n        }\n\n        // Handle case when target is a string or something (possible in deep copy)\n        if ( typeof target !== 'object' && !(typeof(target) === 'function') ) {\n            target = {};\n        }\n\n        // Extend jQuery itself if only one argument is passed\n        if ( i === length ) {\n            target = this;\n            i--;\n        }\n\n        for ( ; i < length; i++ ) {\n\n            // Only deal with non-null/undefined values\n            if ( ( options = arguments[ i ] ) ) {\n\n                // Extend the base object\n                for ( name in options ) {\n                    src = target[ name ];\n                    copy = options[ name ];\n\n                    // Prevent never-ending loop\n                    if ( target === copy ) {\n                        continue;\n                    }\n\n                    // Recurse if we're merging plain objects or arrays\n                    if ( deep && copy && ( self.$isPlainObject( copy ) ||\n                        ( copyIsArray = Array.isArray( copy ) ) ) ) {\n\n                        if ( copyIsArray ) {\n                            copyIsArray = false;\n                            clone = src && Array.isArray( src ) ? src : [];\n\n                        } else {\n                            clone = src && self.$isPlainObject( src ) ? src : {};\n                        }\n\n                        // Never move original objects, clone them\n                        target[ name ] = self.$extend( deep, clone, copy );\n\n                    // Don't bring in undefined values => bring undefined values\n                    } else {\n                        target[ name ] = copy;\n                    }\n                }\n            }\n        }\n\n        // Return the modified object\n        return target;\n    },\n\n    $copy (obj, deep = false) {\n        if (Array.isArray(obj)) {\n            return this.$extend(deep, [], obj);\n        } else if ('' + obj === 'null') {\n            return obj;\n        } else if (typeof (obj) === 'object') {\n            return this.$extend(deep, {}, obj);\n        } else\n            return obj;\n    },\n\n    $isPlainObject (obj) {\n        var proto, Ctor;\n\n        // Detect obvious negatives\n        // Use toString instead of jQuery.type to catch host objects\n        if ( !obj || Object.prototype.toString.call( obj ) !== '[object Object]' ) {\n            return false;\n        }\n\n        proto = Object.getPrototypeOf( obj );\n\n        // Objects with no prototype (e.g., `Object.create( null )`) are plain\n        if ( !proto ) {\n            return true;\n        }\n\n        // Objects with prototype are plain iff they were constructed by a global Object function\n        Ctor = Object.prototype.hasOwnProperty.call( proto, 'constructor' ) && proto.constructor;\n        return typeof Ctor === 'function' && Object.prototype.hasOwnProperty.toString.call( Ctor ) === Object.prototype.hasOwnProperty.toString.call(Object);\n    },\n\n    /**\n     * resolve path\n     * @param  {[string]} route ['/page/index']\n     * @param  {[string]} url   ['./page2']\n     * @return {[string]}       ['/page/page2']\n     */\n    $resolvePath (route, url) {\n        if (!url)\n            return route;\n        if (url[0] === '/') { // /index\n            url = url.substr(1);\n            return this.$resolvePath('', url);\n        }\n        if (url[0] !== '.') { // index\n            return this.$resolvePath(route, './' + url);\n        }\n        let current = route.split('/');\n        if (url[0] === '.' && url[1] === '/') { // ./index\n            url = url.substr(2);\n            if (url[0] !== '.') {\n                if (current.length)\n                    current[current.length - 1] = url;\n                else\n                    current = [url];\n                return current.length === 1 ? ('/' + current[0]) : current.join('/');\n            }\n            return this.$resolvePath(current.join('/'), url);\n        }\n        if (url[0] === '.' && url[1] === '.' && url[2] === '/') { // ../index || ....../index || ../../../index\n            url = url.replace(/^\\.*/ig, '');\n            current.pop();\n            return this.$resolvePath(current.join('/'), '.' + url);\n        }\n        if (url[0] === '.') {\n            return this.$resolvePath(route, url.substr(1));\n        }\n    },\n    /**\n     * get url params\n     * @param  {String} url index?a=1&b=2\n     * @return {Object}     {a:1,b:2}\n     */\n    $getParams (url) {\n        let rst = {};\n        let quoteIndex = url.indexOf('?');\n\n        if (quoteIndex !== -1) {\n            let str = url.substr(quoteIndex + 1);\n            let tmp;\n            str.split('&').forEach(v => {\n                tmp = v.split('=');\n                rst[tmp[0]] = decodeURIComponent(tmp[1]);\n            });\n       }\n       return rst;\n    },\n    /**\n    * Hyphenate a camelCase string.\n    */\n    hyphenate (str) {\n        return str\n            .replace(/([^-])([A-Z])/g, '$1-$2')\n            .replace(/([^-])([A-Z])/g, '$1-$2')\n            .toLowerCase();\n    },\n    /**\n     * Camelize a hyphen-delimited string.\n     */\n    camelize (str) {\n        return str.replace(/-(\\w)/g, (_, c) => c ? c.toUpperCase() : '');\n    }\n};\n\n\n"]}